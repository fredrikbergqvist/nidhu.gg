"use strict";var A=a=>typeof a==='function';var b=this?.__classPrivateFieldGet||function(B,C,D,f){if(D==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(C)?B!==C||!f:!C.has(B))throw TypeError('Cannot read private member from an object whose class did not declare it');return D==='m'?f:D==='a'?f.call(B):f?f.value:C.get(B)},b=this?.__classPrivateFieldGet||function(aZ,bA,bB,f){if(bB==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(bA)?aZ!==bA||!f:!bA.has(aZ))throw TypeError('Cannot read private member from an object whose class did not declare it');return bB==='m'?f:bB==='a'?f.call(aZ):f?f.value:bA.get(aZ)};var c,d,e,_,g,h,i,j;class NidhuggBackToTop extends HTMLElement{constructor(){super();c.add(this);e.set(this,'nidhugg-back-to-top');_.set(this,'nidhugg-back-to-top__anchor');g.set(this,'nidhugg-scroll-to');h.set(this,CSS.supports('animation-timeline: scroll()'))}connectedCallback(){if(document.getElementById(b(this,e,'f')))return;document.body.appendChild(b(this,c,'m',j).call(this));b(this,c,'m',i).call(this)}}d=NidhuggBackToTop,e=new WeakMap,_=new WeakMap,g=new WeakMap,h=new WeakMap,c=new WeakSet,i=function _A(){if(!b(this,h,'f')){var _B=document.getElementById(b(this,g,'f')),_C=document.getElementById(b(this,e,'f'));if(!_B||!_C)return;var _d=window.innerHeight;var E=new IntersectionObserver(entries=>{for(const entry of entries){if(!entry.isIntersecting){_C.style.opacity='1'}else{_C.style.opacity='0'}}}, {root:null,rootMargin:`${_d}px`,threshold:1});E.observe(_B)}},j=function aB(){if(!this.getAttribute('scroll-to')||!b(this,h,'f')){var aC=document.createElement('span');aC.id=b(this,g,'f');this.prepend(aC)}var aD=this.getAttribute('scroll-to')||b(this,g,'f'),_D=document.createElement('a');_D.innerHTML=`
			<figure>
				<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24"><path d="M23.71,16.29,15.54,8.12a5,5,0,0,0-7.08,0L.29,16.29a1,1,0,0,0,1.42,1.42L9.88,9.54a3,3,0,0,1,4.24,0l8.17,8.17a1,1,0,0,0,1.42,0A1,1,0,0,0,23.71,16.29Z"/></svg>
				<figcaption>Back to top</figcaption>
			</figure>`;_D.href=`#${aD}`;_D.id=b(this,e,'f');_D.classList.add(b(this,_,'f'));b(this,h,'f')&&_D.classList.add('nidhugg-back-to-top__anchor--scroll-animation');return _D};NidhuggBackToTop.observedAttributes=['scroll-id'];(()=>customElements.define('nidhugg-back-to-top',d))();var b=this?.__classPrivateFieldGet||function(aE,aF,aG,f){if(aG==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(aF)?aE!==aF||!f:!aF.has(aE))throw TypeError('Cannot read private member from an object whose class did not declare it');return aG==='m'?f:aG==='a'?f.call(aE):f?f.value:aF.get(aE)};var l,d,m,n,o,p,q,r,s;class NidhuggImageModal extends HTMLElement{constructor(){super();l.add(this);m.set(this,'nidhugg-image-modal');n.set(this,`${b(this,m,'f')}__dialog`);o.set(this,`${b(this,m,'f')}__figure`);p.set(this,`${b(this,m,'f')}__img`);q.set(this,`${b(this,m,'f')}__caption`);r.set(this,'nidhugg-modal-open');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return document.getElementById(b(this,m,'f'))}open(){this.showModal()}showModal(){var aH=this.Dialog;aH&&(aH.showModal(),document.body.classList.add(b(this,r,'f')))}close(){var aI=this.Dialog;aI&&(aI.style.opacity='0',aI.style.transform='scale(0)',setTimeout(()=>{document.body.classList.remove(b(this,r,'f'));aI.style.opacity=aI.style.transform='';aI.close()},200))}connectedCallback(){b(this,l,'m',s).call(this);var aJ=this.Dialog;aJ===null||aJ===void 0?void 0:aJ.addEventListener('cancel',aL=>{aL.preventDefault();this.close()});aJ===null||aJ===void 0?void 0:aJ.addEventListener('close',aM=>{aM.preventDefault();this.close()});aJ===null||aJ===void 0?void 0:aJ.addEventListener('mousedown',aN=>{aN.preventDefault();aN.target===aJ&&this.close()});var aK=this.querySelectorAll('img');for(const aO of aK)aO.addEventListener('click',()=>{var aP,aQ;var aR=(aP=this.Dialog)===null||aP===void 0?void 0:aP.querySelector(`.${b(this,p,'f')}`);if(aR){aR.setAttribute('alt',aO.getAttribute('alt')||'');aR.setAttribute('height',aO.getAttribute('height')||'');aR.setAttribute('width',aO.getAttribute('width')||'');aR.setAttribute('src',aO.getAttribute('src')||'');aO.dataset.vertical&&aR.classList.add('vertical')}var aS=(aQ=this.Dialog)===null||aQ===void 0?void 0:aQ.querySelector(`.${b(this,q,'f')}`);if(aS){aS.innerHTML='';aO.dataset.caption&&(aS.innerHTML=aO.dataset.caption)}this.showModal()})}attributeChangedCallback(aT,aU,aV){var aW;if(aT==='open')if(this.hasAttribute('open'))return (aW=this.Dialog)===null||aW===void 0?void 0:aW.showModal()}}d=NidhuggImageModal,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakMap,q=new WeakMap,r=new WeakMap,l=new WeakSet,s=function aX(){if(this.Dialog)return;var aY=document.createElement('dialog');aY.classList.add(b(this,n,'f'));aY.id=b(this,m,'f');aY.innerHTML=`
			<figure class="${b(this,o,'f')}">
				<img class="${b(this,p,'f')}" src="#" alt="" />
				<figcaption class="${b(this,q,'f')}"></figcaption>
			</figure>`;document.body.appendChild(aY)};NidhuggImageModal.observedAttributes=[];(()=>customElements.define('nidhugg-image-modal',d))();var d,u,v,w,x,y,z,aA;class NidhuggModal extends HTMLElement{constructor(){super();u.set(this,'nidhugg-modal-open');v.set(this,'nidhugg-modal__dialog');w.set(this,'nidhugg-modal__header');x.set(this,'nidhugg-modal__heading');y.set(this,'nidhugg-modal__close-btn');z.set(this,'nidhugg-modal__main');aA.set(this,b(this,x,'f')+'--no-heading');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return this.querySelector(`dialog.${b(this,v,'f')}`)}open(){this.showModal()}showModal(){var bC=this.Dialog;bC&&(bC.showModal(),document.body.classList.add(b(this,u,'f')),this.dispatchEvent(this.openEvent))}close(){var bD=this.Dialog;bD&&(bD.style.opacity='0',bD.style.transform='scale(0)',setTimeout(()=>{bD.close();document.body.classList.remove(b(this,u,'f'));bD.style.opacity=bD.style.transform=''},300))}populateElements(){var bE=this.getAttribute('heading'),bF=this.childNodes,bG=document.createElement('dialog'),_e=document.createElement('header'),G=[...bF];bG.classList.add(b(this,v,'f'));var bH=document.createElement('h2');bH.classList.add(b(this,x,'f'));bH.textContent=bE||'';_e.classList.add(b(this,w,'f'));_e.innerHTML=`
			<form formmethod="dialog">
				<button class="${b(this,y,'f')}" type="submit" title="Close modal" autofocus>x</button>
			</form>`;bE?_e.appendChild(bH):_e.classList.add(b(this,aA,'f'));var F=document.createElement('main');F.classList.add(b(this,z,'f'));F.append(...G);bG.appendChild(_e);bG.appendChild(F);this.appendChild(bG);this.hasAttribute('open')&&this.showModal()}connectedCallback(){this.populateElements();var bI=this.Dialog;bI===null||bI===void 0?void 0:bI.addEventListener('cancel',bJ=>{bJ.preventDefault();this.close();this.dispatchEvent(this.cancelEvent)});bI===null||bI===void 0?void 0:bI.addEventListener('close',bK=>{bK.preventDefault();this.close();this.dispatchEvent(this.closeEvent)});bI===null||bI===void 0?void 0:bI.addEventListener('mousedown',bL=>{bL.preventDefault();bL.target===bI&&this.close()})}attributeChangedCallback(bM,bN,bO){if(bM==='open')if(this.hasAttribute('open'))return this.showModal()}}d=NidhuggModal,u=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,y=new WeakMap,z=new WeakMap,aA=new WeakMap;NidhuggModal.observedAttributes=['open','heading'];(()=>customElements.define('nidhugg-modal',d))();