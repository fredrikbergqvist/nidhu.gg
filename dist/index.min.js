"use strict";var A=a=>typeof a==='function';var b=this?.__classPrivateFieldGet||function(B,C,D,f){if(D==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(C)?B!==C||!f:!C.has(B))throw TypeError('Cannot read private member from an object whose class did not declare it');return D==='m'?f:D==='a'?f.call(B):f?f.value:C.get(B)},b=this?.__classPrivateFieldGet||function(bB,bC,bD,f){if(bD==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(bC)?bB!==bC||!f:!bC.has(bB))throw TypeError('Cannot read private member from an object whose class did not declare it');return bD==='m'?f:bD==='a'?f.call(bB):f?f.value:bC.get(bB)};var c,d,e,_,g,h,i,j;class NidhuggBackToTop extends HTMLElement{constructor(){super();c.add(this);e.set(this,'nidhugg-back-to-top');_.set(this,'nidhugg-back-to-top__anchor');g.set(this,'nidhugg-scroll-to');h.set(this,CSS.supports('animation-timeline: scroll()'))}connectedCallback(){if(document.getElementById(b(this,e,'f')))return;document.body.appendChild(b(this,c,'m',j).call(this));b(this,c,'m',i).call(this)}}d=NidhuggBackToTop,e=new WeakMap,_=new WeakMap,g=new WeakMap,h=new WeakMap,c=new WeakSet,i=function _A(){if(!b(this,h,'f')){var _B=document.getElementById(b(this,g,'f')),_C=document.getElementById(b(this,e,'f'));if(!_B||!_C)return;var _D=window.innerHeight;var E=new IntersectionObserver(entries=>{for(const entry of entries){if(!entry.isIntersecting){_C.style.opacity='1'}else{_C.style.opacity='0'}}}, {root:null,rootMargin:`${_D}px`,threshold:1});E.observe(_B)}},j=function aC(){if(!this.getAttribute('scroll-to')||!b(this,h,'f')){var aD=document.createElement('span');aD.id=b(this,g,'f');this.prepend(aD)}var aE=this.getAttribute('scroll-to')||b(this,g,'f'),aF=document.createElement('a');aF.innerHTML=`
			<figure>
				<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24"><path d="M23.71,16.29,15.54,8.12a5,5,0,0,0-7.08,0L.29,16.29a1,1,0,0,0,1.42,1.42L9.88,9.54a3,3,0,0,1,4.24,0l8.17,8.17a1,1,0,0,0,1.42,0A1,1,0,0,0,23.71,16.29Z"/></svg>
				<figcaption>Back to top</figcaption>
			</figure>`;aF.href=`#${aE}`;aF.id=b(this,e,'f');aF.classList.add(b(this,_,'f'));b(this,h,'f')&&aF.classList.add('nidhugg-back-to-top__anchor--scroll-animation');return aF};NidhuggBackToTop.observedAttributes=['scroll-id'];(()=>customElements.define('nidhugg-back-to-top',d))();var b=this?.__classPrivateFieldGet||function(aG,aH,aI,f){if(aI==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(aH)?aG!==aH||!f:!aH.has(aG))throw TypeError('Cannot read private member from an object whose class did not declare it');return aI==='m'?f:aI==='a'?f.call(aG):f?f.value:aH.get(aG)};var l,d,m,n,o,p,q,r,s,t;class NidhuggImageModal extends HTMLElement{constructor(){super();l.add(this);m.set(this,'nidhugg-image-modal');n.set(this,`${b(this,m,'f')}__dialog`);o.set(this,`${b(this,m,'f')}__figure`);p.set(this,`${b(this,m,'f')}__img`);q.set(this,`${b(this,m,'f')}__caption`);r.set(this,'nidhugg-modal-open');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return document.getElementById(b(this,m,'f'))}open(){this.showModal()}showModal(){var aJ=this.Dialog;aJ&&(aJ.showModal(),document.body.classList.add(b(this,r,'f')))}close(){var aK=this.Dialog;aK&&(aK.style.opacity='0',aK.style.transform='scale(0)',setTimeout(()=>{document.body.classList.remove(b(this,r,'f'));aK.style.opacity=aK.style.transform='';aK.close()},200))}connectedCallback(){b(this,l,'m',t).call(this);var aL=this.Dialog;aL===null||aL===void 0?void 0:aL.addEventListener('cancel',aN=>{aN.preventDefault();this.close()});aL===null||aL===void 0?void 0:aL.addEventListener('close',aO=>{aO.preventDefault();this.close()});aL===null||aL===void 0?void 0:aL.addEventListener('mousedown',aP=>{aP.preventDefault();aP.target===aL&&this.close()});var aM=this.querySelectorAll('img');for(const aQ of aM)aQ.addEventListener('click',()=>{b(this,l,'m',s).call(this,aQ);this.showModal()})}attributeChangedCallback(aR,aS,aT){var aU;if(aR==='open')if(this.hasAttribute('open'))return (aU=this.Dialog)===null||aU===void 0?void 0:aU.showModal()}}d=NidhuggImageModal,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakMap,q=new WeakMap,r=new WeakMap,l=new WeakSet,s=function aW(aV){var aX,aY,_e;var F=document.createElement('figure'),H=document.createElement('figcaption');F.classList.add(b(this,o,'f'));var G=document.createElement('img');G.setAttribute('alt',aV.getAttribute('alt')||'');G.setAttribute('height',aV.getAttribute('height')||'');G.setAttribute('width',aV.getAttribute('width')||'');G.setAttribute('src',aV.getAttribute('src')||'');G.classList.add(b(this,p,'f'));F.appendChild(G);aV.dataset.caption&&(H.innerHTML=aV.dataset.caption,F.appendChild(H));var I=(aX=this.Dialog)===null||aX===void 0?void 0:aX.querySelector(`.${b(this,o,'f')}`);if(I)return (aY=this.Dialog)===null||aY===void 0?void 0:aY.replaceChild(F,I);(_e=this.Dialog)===null||_e===void 0?void 0:_e.appendChild(F)},t=function aZ(){if(this.Dialog)return;var bA=document.createElement('dialog');bA.classList.add(b(this,n,'f'));bA.id=b(this,m,'f');bA.innerHTML=``;document.body.appendChild(bA)};NidhuggImageModal.observedAttributes=[];(()=>customElements.define('nidhugg-image-modal',d))();var d,v,w,x,y,z,aA,aB;class NidhuggModal extends HTMLElement{constructor(){super();v.set(this,'nidhugg-modal-open');w.set(this,'nidhugg-modal__dialog');x.set(this,'nidhugg-modal__header');y.set(this,'nidhugg-modal__heading');z.set(this,'nidhugg-modal__close-btn');aA.set(this,'nidhugg-modal__main');aB.set(this,b(this,y,'f')+'--no-heading');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return this.querySelector(`dialog.${b(this,w,'f')}`)}open(){this.showModal()}showModal(){var bE=this.Dialog;bE&&(bE.showModal(),document.body.classList.add(b(this,v,'f')),this.dispatchEvent(this.openEvent))}close(){var bF=this.Dialog;bF&&(bF.style.opacity='0',bF.style.transform='scale(0)',setTimeout(()=>{bF.close();document.body.classList.remove(b(this,v,'f'));bF.style.opacity=bF.style.transform=''},300))}populateElements(){var bG=this.getAttribute('heading'),bH=this.childNodes,bI=document.createElement('dialog'),_E=document.createElement('header'),_g=[...bH];bI.classList.add(b(this,w,'f'));var bJ=document.createElement('h2');bJ.classList.add(b(this,y,'f'));bJ.textContent=bG||'';_E.classList.add(b(this,x,'f'));_E.innerHTML=`
			<form formmethod="dialog">
				<button class="${b(this,z,'f')}" type="submit" title="Close modal" autofocus>
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M18 6a1 1 0 0 0-1.414 0L12 10.586 7.414 6A1 1 0 0 0 6 6a1 1 0 0 0 0 1.414L10.586 12 6 16.586A1 1 0 0 0 6 18a1 1 0 0 0 1.414 0L12 13.414 16.586 18A1 1 0 0 0 18 18a1 1 0 0 0 0-1.414L13.414 12 18 7.414A1 1 0 0 0 18 6Z"/></svg>
				</button>
			</form>`;bG?_E.appendChild(bJ):_E.classList.add(b(this,aB,'f'));var _f=document.createElement('main');_f.classList.add(b(this,aA,'f'));_f.append(..._g);bI.appendChild(_E);bI.appendChild(_f);this.appendChild(bI);this.hasAttribute('open')&&this.showModal()}connectedCallback(){this.populateElements();var bK=this.Dialog;bK===null||bK===void 0?void 0:bK.addEventListener('cancel',bL=>{bL.preventDefault();this.close();this.dispatchEvent(this.cancelEvent)});bK===null||bK===void 0?void 0:bK.addEventListener('close',bM=>{bM.preventDefault();this.close();this.dispatchEvent(this.closeEvent)});bK===null||bK===void 0?void 0:bK.addEventListener('mousedown',bN=>{bN.preventDefault();bN.target===bK&&this.close()})}attributeChangedCallback(bO,bP,bQ){if(bO==='open')if(this.hasAttribute('open'))return this.showModal()}}d=NidhuggModal,v=new WeakMap,w=new WeakMap,x=new WeakMap,y=new WeakMap,z=new WeakMap,aA=new WeakMap,aB=new WeakMap;NidhuggModal.observedAttributes=['open','heading'];(()=>customElements.define('nidhugg-modal',d))();