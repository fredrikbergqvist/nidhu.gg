"use strict";var A=a=>typeof a==='function';var b=this?.__classPrivateFieldGet||function(B,C,D,f){if(D==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(C)?B!==C||!f:!C.has(B))throw TypeError('Cannot read private member from an object whose class did not declare it');return D==='m'?f:D==='a'?f.call(B):f?f.value:C.get(B)},b=this?.__classPrivateFieldGet||function(aY,aZ,bA,f){if(bA==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(aZ)?aY!==aZ||!f:!aZ.has(aY))throw TypeError('Cannot read private member from an object whose class did not declare it');return bA==='m'?f:bA==='a'?f.call(aY):f?f.value:aZ.get(aY)};var c,d,e,_,g,h,i,j;class NidhuggBackToTop extends HTMLElement{constructor(){super();c.add(this);e.set(this,'nidhugg-back-to-top');_.set(this,'nidhugg-back-to-top__anchor');g.set(this,'nidhugg-scroll-to');h.set(this,'nidhugg-content-end');i.set(this,CSS.supports('animation-timeline: scroll()'))}connectedCallback(){if(document.getElementById(b(this,e,'f')))return;document.body.appendChild(b(this,c,'m',j).call(this));if(!b(this,i,'f')){var _A=document.getElementById(b(this,g,'f')),_B=document.getElementById(b(this,e,'f'));if(!_A||!_B)return;var _C=window.innerHeight;var _d=new IntersectionObserver(entries=>{for(const entry of entries){if(!entry.isIntersecting){_B.style.opacity='1'}else{_B.style.opacity='0'}}}, {root:null,rootMargin:`${_C}px`,threshold:1});_d.observe(_A)}}}d=NidhuggBackToTop,e=new WeakMap,_=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap,c=new WeakSet,j=function E(){if(!this.getAttribute('scroll-to')||!b(this,i,'f')){var aB=document.createElement('span');aB.id=b(this,g,'f');this.prepend(aB)}if(!b(this,i,'f')){var aC=document.createElement('span');aC.id=b(this,h,'f');this.appendChild(aC)}var _D=this.getAttribute('scroll-to')||b(this,g,'f'),_e=document.createElement('a');_e.innerHTML=`
			<figure>
				<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24"><path d="M23.71,16.29,15.54,8.12a5,5,0,0,0-7.08,0L.29,16.29a1,1,0,0,0,1.42,1.42L9.88,9.54a3,3,0,0,1,4.24,0l8.17,8.17a1,1,0,0,0,1.42,0A1,1,0,0,0,23.71,16.29Z"/></svg>
				<figcaption>Back to top</figcaption>
			</figure>`;_e.href=`#${_D}`;_e.id=b(this,e,'f');_e.classList.add(b(this,_,'f'));b(this,i,'f')&&_e.classList.add('nidhugg-back-to-top__anchor--scroll-animation');return _e};NidhuggBackToTop.observedAttributes=['scroll-id'];(()=>customElements.define('nidhugg-back-to-top',d))();var b=this?.__classPrivateFieldGet||function(aD,aE,aF,f){if(aF==='a'&&!f)throw TypeError('Private accessor was defined without a getter');if(A(aE)?aD!==aE||!f:!aE.has(aD))throw TypeError('Cannot read private member from an object whose class did not declare it');return aF==='m'?f:aF==='a'?f.call(aD):f?f.value:aE.get(aD)};var l,d,m,n,o,p,q,r,s;class NidhuggImageModal extends HTMLElement{constructor(){super();l.add(this);m.set(this,'nidhugg-image-modal');n.set(this,`${b(this,m,'f')}__dialog`);o.set(this,`${b(this,m,'f')}__figure`);p.set(this,`${b(this,m,'f')}__img`);q.set(this,`${b(this,m,'f')}__caption`);r.set(this,'nidhugg-modal-open');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return document.getElementById(b(this,m,'f'))}open(){this.showModal()}showModal(){var aG=this.Dialog;aG&&(aG.showModal(),document.body.classList.add(b(this,r,'f')))}close(){var aH=this.Dialog;aH&&(aH.style.opacity='0',aH.style.transform='scale(0)',setTimeout(()=>{document.body.classList.remove(b(this,r,'f'));aH.style.opacity=aH.style.transform='';aH.close()},200))}connectedCallback(){b(this,l,'m',s).call(this);var aI=this.Dialog;aI===null||aI===void 0?void 0:aI.addEventListener('cancel',aK=>{aK.preventDefault();this.close()});aI===null||aI===void 0?void 0:aI.addEventListener('close',aL=>{aL.preventDefault();this.close()});aI===null||aI===void 0?void 0:aI.addEventListener('mousedown',aM=>{aM.preventDefault();aM.target===aI&&this.close()});var aJ=this.querySelectorAll('img');for(const aN of aJ)aN.addEventListener('click',()=>{var aO,aP;var aQ=(aO=this.Dialog)===null||aO===void 0?void 0:aO.querySelector(`.${b(this,p,'f')}`);if(aQ){aQ.setAttribute('alt',aN.getAttribute('alt')||'');aQ.setAttribute('height',aN.getAttribute('height')||'');aQ.setAttribute('width',aN.getAttribute('width')||'');aQ.setAttribute('src',aN.getAttribute('src')||'');aN.dataset.vertical&&aQ.classList.add('vertical')}var aR=(aP=this.Dialog)===null||aP===void 0?void 0:aP.querySelector(`.${b(this,q,'f')}`);if(aR){aR.innerHTML='';aN.dataset.caption&&(aR.innerHTML=aN.dataset.caption)}this.showModal()})}attributeChangedCallback(aS,aT,aU){var aV;if(aS==='open')if(this.hasAttribute('open'))return (aV=this.Dialog)===null||aV===void 0?void 0:aV.showModal()}}d=NidhuggImageModal,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakMap,q=new WeakMap,r=new WeakMap,l=new WeakSet,s=function aW(){if(this.Dialog)return;var aX=document.createElement('dialog');aX.classList.add(b(this,n,'f'));aX.id=b(this,m,'f');aX.innerHTML=`
			<figure class="${b(this,o,'f')}">
				<img class="${b(this,p,'f')}" src="#" alt="" />
				<figcaption class="${b(this,q,'f')}"></figcaption>
			</figure>`;document.body.appendChild(aX)};NidhuggImageModal.observedAttributes=[];(()=>customElements.define('nidhugg-image-modal',d))();var d,u,v,w,x,y,z,aA;class NidhuggModal extends HTMLElement{constructor(){super();u.set(this,'nidhugg-modal-open');v.set(this,'nidhugg-modal__dialog');w.set(this,'nidhugg-modal__header');x.set(this,'nidhugg-modal__heading');y.set(this,'nidhugg-modal__close-btn');z.set(this,'nidhugg-modal__main');aA.set(this,b(this,x,'f')+'--no-heading');this.close=this.close.bind(this);this.closeEvent=new CustomEvent('close', {bubbles:!0,cancelable:!1,composed:!0});this.cancelEvent=new CustomEvent('cancel', {bubbles:!0,cancelable:!1,composed:!0});this.openEvent=new CustomEvent('open', {bubbles:!0,cancelable:!1,composed:!0})}get Dialog(){return this.querySelector(`dialog.${b(this,v,'f')}`)}open(){this.showModal()}showModal(){var bB=this.Dialog;bB&&(bB.showModal(),document.body.classList.add(b(this,u,'f')),this.dispatchEvent(this.openEvent))}close(){var bC=this.Dialog;bC&&(bC.style.opacity='0',bC.style.transform='scale(0)',setTimeout(()=>{bC.close();document.body.classList.remove(b(this,u,'f'));bC.style.opacity=bC.style.transform=''},300))}populateElements(){var bD=this.getAttribute('heading'),bE=this.childNodes,bF=document.createElement('dialog'),_E=document.createElement('header'),G=[...bE];bF.classList.add(b(this,v,'f'));var bG=document.createElement('h2');bG.classList.add(b(this,x,'f'));bG.textContent=bD||'';_E.classList.add(b(this,w,'f'));_E.innerHTML=`
			<form formmethod="dialog">
				<button class="${b(this,y,'f')}" type="submit" title="Close modal" autofocus>x</button>
			</form>`;bD?_E.appendChild(bG):_E.classList.add(b(this,aA,'f'));var F=document.createElement('main');F.classList.add(b(this,z,'f'));F.append(...G);bF.appendChild(_E);bF.appendChild(F);this.appendChild(bF);this.hasAttribute('open')&&this.showModal()}connectedCallback(){this.populateElements();var bH=this.Dialog;bH===null||bH===void 0?void 0:bH.addEventListener('cancel',bI=>{bI.preventDefault();this.close();this.dispatchEvent(this.cancelEvent)});bH===null||bH===void 0?void 0:bH.addEventListener('close',bJ=>{bJ.preventDefault();this.close();this.dispatchEvent(this.closeEvent)});bH===null||bH===void 0?void 0:bH.addEventListener('mousedown',bK=>{bK.preventDefault();bK.target===bH&&this.close()})}attributeChangedCallback(bL,bM,bN){if(bL==='open')if(this.hasAttribute('open'))return this.showModal()}}d=NidhuggModal,u=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,y=new WeakMap,z=new WeakMap,aA=new WeakMap;NidhuggModal.observedAttributes=['open','heading'];(()=>customElements.define('nidhugg-modal',d))();